<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Puissance 4</title>
    <link rel="stylesheet" href="./style.css">
</head>

<body>
    <!-- partial:index.partial.html -->
    <div id="game"></div>
    <div id="menu">
        <div>Rows <span id="rows"></span><button onclick="lessRows()">-</button><button onclick="moreRows()">+</button></div>
        <br/>
        <div>Cols <span id="cols"></span><button onclick="lessCols()">-</button><button onclick="moreCols()">+</button></div>
        <br/> Select player1
        <select id="player1">
            <option value="1">human</option>
            <option value="2">IA</option>
        </select> versus player2 IA
        <br/>
        <br/>Beginner
        <select id="beginner">
                <option value="player1">player1</option>
                <option value="player2">player2</option>
            </select>
        <br/>
        <br/>
        <button onclick="start()">Start</button>
    </div>
    <div id="onPlayMenu">
        <button onclick="reset()">Reset</button>
    </div>
    <!-- partial -->
    <script src="./script.js">
    </script>
    <script src="./ia.js">
    </script>
    <script>
        let rows = 6;
        let cols = 7;
        let hidden = false;
        const playerType = ["human", "IA"];
        const players = ["player1", "player2"];
        const p4 = new Puissance4('#game');

        document.getElementById("rows").innerHTML = rows;
        document.getElementById("cols").innerHTML = cols;
        document.getElementById("onPlayMenu").hidden = true;

        const start = () => {
            document.getElementById("menu").hidden = true;
            document.getElementById("onPlayMenu").hidden = false;
            const player1 = playerType[document.getElementById("player1").selectedIndex];
            const beginner = players[document.getElementById("beginner").selectedIndex];
            p4.start(rows, cols, player1, beginner);
            p4.render();
        }

        const reset = () => {
            p4.reset()
            p4.render()
        }

        const moreRows = () => {
            rows++
            document.getElementById("rows").innerHTML = rows;
        }
        const lessRows = () => {
            rows--
            document.getElementById("rows").innerHTML = rows;
        }
        const moreCols = () => {
            cols++
            document.getElementById("cols").innerHTML = cols;
        }
        const lessCols = () => {
            cols--
            document.getElementById("cols").innerHTML = cols;
        }
    </script>
</body>

</html>